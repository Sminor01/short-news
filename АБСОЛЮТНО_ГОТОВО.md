# ‚úÖ –ê–ë–°–û–õ–Æ–¢–ù–û –í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–û!

## –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL —Å—Ç–æ–ª–±—Ü—ã —Ç–∞–±–ª–∏—Ü –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **—Å—Ç–∞—Ä—ã–µ enum —Ç–∏–ø—ã**, –∞ –∫–æ–¥ –ø—ã—Ç–∞–ª—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–Ω–æ–≤—ã–º–∏ enum —Ç–∏–ø–∞–º–∏**.

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

#### 1. –°–æ–∑–¥–∞–Ω—ã –í–°–ï –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ enum —Ç–∏–ø—ã:
- ‚úÖ `newscategory`
- ‚úÖ `sourcetype`
- ‚úÖ `notificationfrequency`
- ‚úÖ `activitytype`
- ‚úÖ `digestfrequency`
- ‚úÖ `digestformat`

#### 2. –ò–∑–º–µ–Ω–µ–Ω—ã —Ç–∏–ø—ã —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö:

**–¢–∞–±–ª–∏—Ü–∞ `user_preferences`:**
- `interested_categories`: `news_category[]` ‚Üí `newscategory[]` ‚úÖ
- `notification_frequency`: `notification_frequency` ‚Üí `notificationfrequency` ‚úÖ
- `digest_frequency`: `digest_frequency` ‚Üí `digestfrequency` ‚úÖ
- `digest_format`: `digest_format` ‚Üí `digestformat` ‚úÖ

**–¢–∞–±–ª–∏—Ü–∞ `news_items`:**
- `category`: `news_category` ‚Üí `newscategory` ‚úÖ
- `source_type`: `source_type` ‚Üí `sourcetype` ‚úÖ

#### 3. –î—Ä—É–≥–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è (–¥–æ–±–∞–≤–ª–µ–Ω—ã `timezone` –∏ `week_start_day`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ `user_preferences`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–∞—Ç (00:00 - 23:59)
- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω

---

## üöÄ –ü–û–ü–†–û–ë–£–ô–¢–ï –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°!

### 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
–ù–∞–∂–º–∏—Ç–µ `F5` –∏–ª–∏ `Ctrl+R`

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ Daily Digest

**–î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨!**

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```json
{
  "date_from": "2025-10-14T00:00:00",
  "date_to": "2025-10-14T23:59:59.999999",
  "news_count": ...,
  "categories": {...},
  "statistics": {...}
}
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ Weekly Digest

–î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ–¥–µ–ª—è —Å –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è –ø–æ —Å—É–±–±–æ—Ç—É:
```json
{
  "date_from": "2025-10-12T00:00:00",      // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
  "date_to": "2025-10-18T23:59:59.999999", // –°—É–±–±–æ—Ç–∞
  "news_count": ...,
  "categories": {...}
}
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞

Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
```
‚úì Database connection established successfully
‚úì Application startup complete!
‚úì All enum types created
‚úì All column types updated
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –¥–∞–π–¥–∂–µ—Å—Ç—ã –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç, –∑–∞–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Digest Settings**:

1. **Timezone**: –í—ã–±–µ—Ä–∏—Ç–µ `Europe/Moscow` üá∑üá∫ (–∏–ª–∏ –≤–∞—à —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å)
2. **Week Start**: –í—ã–±–µ—Ä–∏—Ç–µ `Sunday` (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ) 
   - –ù–µ–¥–µ–ª—è: –í—Å‚Üí–°–± (–∫–∞–∫ –≤ GitHub) ‚≠ê

---

## üéØ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫)

1. ‚úÖ –°–æ–∑–¥–∞–Ω—ã 6 enum —Ç–∏–ø–æ–≤ (newscategory, sourcetype, notificationfrequency, activitytype, digestfrequency, digestformat)
2. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω—ã —Ç–∏–ø—ã 6 —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
3. ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î (timezone + week_start_day)
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –¥–∞—Ç:
   - **Daily**: 00:00 - 23:59 —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
   - **Weekly**: –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ 00:00 - –°—É–±–±–æ—Ç–∞ 23:59
5. ‚úÖ –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ preferences –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
6. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
7. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –Ω–∞—á–∞–ª–æ –Ω–µ–¥–µ–ª–∏
8. ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéâ –í–°–ï –ì–û–¢–û–í–û!

**–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–∞–π–¥–∂–µ—Å—Ç—ã!**

–¢–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ:
- ‚úÖ Daily Digest - –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å
- ‚úÖ Weekly Digest - –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é (–í—Å-–°–±)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞—Ç—ã (00:00 - 23:59)
- ‚úÖ –ë–µ–∑ –æ—à–∏–±–æ–∫ 500

---

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç
3. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç **–ü–û–õ–ù–û–ô –æ—à–∏–±–∫–∏** (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend:
   ```bash
   docker logs shot-news-backend --tail 100
   ```

–ù–æ –ø—Ä–æ–±–ª–µ–º—ã –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ - –≤—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! üöÄ

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ SQL –∫–æ–º–∞–Ω–¥—ã:**
```sql
-- –°–æ–∑–¥–∞–Ω—ã enum —Ç–∏–ø—ã
CREATE TYPE newscategory AS ENUM (...);
CREATE TYPE sourcetype AS ENUM (...);
CREATE TYPE notificationfrequency AS ENUM (...);
CREATE TYPE activitytype AS ENUM (...);
CREATE TYPE digestfrequency AS ENUM (...);
CREATE TYPE digestformat AS ENUM (...);

-- –ò–∑–º–µ–Ω–µ–Ω—ã —Ç–∏–ø—ã —Å—Ç–æ–ª–±—Ü–æ–≤
ALTER TABLE user_preferences 
  ALTER COLUMN interested_categories TYPE newscategory[];
ALTER TABLE user_preferences 
  ALTER COLUMN notification_frequency TYPE notificationfrequency;
ALTER TABLE user_preferences 
  ALTER COLUMN digest_frequency TYPE digestfrequency;
ALTER TABLE user_preferences 
  ALTER COLUMN digest_format TYPE digestformat;
ALTER TABLE news_items 
  ALTER COLUMN category TYPE newscategory;
ALTER TABLE news_items 
  ALTER COLUMN source_type TYPE sourcetype;
```

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ! ‚úÖ

